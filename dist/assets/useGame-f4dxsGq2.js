import{u as p,c,X as n}from"./index-DZwyNBAC.js";import{u as D}from"./habit-DH62z9Rh.js";function P(){const e=p(),o=D(),f=c(()=>{const{energy:t}=e.state;return t<20?"Lemah sekali... butuh istirahat":t<40?"Agak lelah, tapi masih semangat!":t<60?"Cukup berenergi":t<80?"Berenergi tinggi!":"Penuh semangat! ðŸ’ª"}),d=c(()=>o.progressPercentage),m=c(()=>{const t=new Date,a=t.getHours();if(a>=4&&a<18){const r=new Date(t);r.setHours(18,0,0,0);const s=r.getTime()-t.getTime(),i=Math.floor(s/(1e3*60*60)),u=Math.floor(s%(1e3*60*60)/(1e3*60));return{label:"buka puasa",hours:i,minutes:u,isFasting:!0}}else{const r=new Date(t);a>=18&&r.setDate(r.getDate()+1),r.setHours(4,0,0,0);const s=r.getTime()-t.getTime(),i=Math.floor(s/(1e3*60*60)),u=Math.floor(s%(1e3*60*60)/(1e3*60));return{label:"imsak",hours:i,minutes:u,isFasting:!1}}});function g(){return e.checkDailyLogin()?(e.addXP(n.DAILY_LOGIN),e.state.streak>1&&e.addXP(n.STREAK_BONUS),{xpEarned:n.DAILY_LOGIN+(e.state.streak>1?n.STREAK_BONUS:0),streak:e.state.streak}):null}function l(t){const a=o.toggleHabit(t);return a.wasCompleted?(e.addXP(a.xpEarned),e.addEnergy(5)):e.addXP(a.xpEarned),a}function h(){return e.addXP(n.COOK_RECIPE),e.addEnergy(15),{xpEarned:n.COOK_RECIPE,energyGained:15}}function E(){return e.addXP(n.SAVE_BUDGET),e.addCoins(10),{xpEarned:n.SAVE_BUDGET,coinsEarned:10}}return{gameStore:e,habitStore:o,characterStatus:f,faithMeter:d,timeUntilNextMeal:m,claimDailyBonus:g,completeHabit:l,completeCooking:h,completeSaving:E}}export{P as u};
