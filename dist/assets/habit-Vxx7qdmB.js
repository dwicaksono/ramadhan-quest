import{O as v,r as n,c as i}from"./index-BIDXd39F.js";const w=[{id:"fajr",name:"Sholat Subuh",category:"spiritual",icon:"ðŸ•Œ",xpReward:15,prayerTimeKey:"subuh"},{id:"dhuhr",name:"Sholat Dzuhur",category:"spiritual",icon:"ðŸ•Œ",xpReward:10,prayerTimeKey:"dzuhur"},{id:"asr",name:"Sholat Ashar",category:"spiritual",icon:"ðŸ•Œ",xpReward:10,prayerTimeKey:"ashar"},{id:"maghrib",name:"Sholat Maghrib",category:"spiritual",icon:"ðŸ•Œ",xpReward:10,prayerTimeKey:"maghrib"},{id:"isha",name:"Sholat Isya",category:"spiritual",icon:"ðŸ•Œ",xpReward:10,prayerTimeKey:"isya"},{id:"quran",name:"Baca Quran 5 Halaman",category:"spiritual",icon:"ðŸ“–",xpReward:20},{id:"adhkar",name:"Dzikir Pagi",category:"spiritual",icon:"ðŸ¤²",xpReward:10},{id:"sadaqah",name:"Sedekah Hari Ini",category:"community",icon:"ðŸ’",xpReward:25},{id:"tarawih",name:"Sholat Tarawih",category:"spiritual",icon:"ðŸŒ™",xpReward:20}],p="ramadan-quest-habits";function R(){const t=localStorage.getItem(p);if(t)try{return JSON.parse(t)}catch{return{completedToday:[],lastResetDate:""}}return{completedToday:[],lastResetDate:""}}const x=v("habit",()=>{const t=n(w),l=R(),a=n(new Set(l.completedToday)),r=n(l.lastResetDate),u=i(()=>a.value.size),c=i(()=>t.value.length),m=i(()=>Math.round(u.value/c.value*100)),y=i(()=>t.value.map(e=>({...e,isCompleted:a.value.has(e.id)})));function o(){const e={completedToday:Array.from(a.value),lastResetDate:r.value};localStorage.setItem(p,JSON.stringify(e))}function h(e){const s=t.value.find(f=>f.id===e);return s?a.value.has(e)?(a.value.delete(e),o(),{xpEarned:-s.xpReward,wasCompleted:!1}):(a.value.add(e),o(),{xpEarned:s.xpReward,wasCompleted:!0}):{xpEarned:0,wasCompleted:!1}}function g(e){return a.value.has(e)}function d(){const e=new Date().toISOString().split("T")[0];return r.value!==e?(a.value.clear(),r.value=e,o(),!0):!1}function S(){a.value.clear(),r.value="",o()}return d(),{habits:t,completedToday:a,completedCount:u,totalCount:c,progressPercentage:m,todaysHabits:y,toggleHabit:h,isCompleted:g,checkDailyReset:d,reset:S}});export{x as u};
