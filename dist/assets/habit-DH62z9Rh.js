import{O as v,r as i,c as n}from"./index-DZwyNBAC.js";const w=[{id:"fajr",name:"Sholat Subuh",category:"spiritual",icon:"ðŸ•Œ",xpReward:15},{id:"dhuhr",name:"Sholat Dzuhur",category:"spiritual",icon:"ðŸ•Œ",xpReward:10},{id:"asr",name:"Sholat Ashar",category:"spiritual",icon:"ðŸ•Œ",xpReward:10},{id:"maghrib",name:"Sholat Maghrib",category:"spiritual",icon:"ðŸ•Œ",xpReward:10},{id:"isha",name:"Sholat Isya",category:"spiritual",icon:"ðŸ•Œ",xpReward:10},{id:"quran",name:"Baca Quran 5 Halaman",category:"spiritual",icon:"ðŸ“–",xpReward:20},{id:"adhkar",name:"Dzikir Pagi",category:"spiritual",icon:"ðŸ¤²",xpReward:10},{id:"sadaqah",name:"Sedekah Hari Ini",category:"community",icon:"ðŸ’",xpReward:25},{id:"tarawih",name:"Sholat Tarawih",category:"spiritual",icon:"ðŸŒ™",xpReward:20}],p="ramadan-quest-habits";function R(){const t=localStorage.getItem(p);if(t)try{return JSON.parse(t)}catch{return{completedToday:[],lastResetDate:""}}return{completedToday:[],lastResetDate:""}}const T=v("habit",()=>{const t=i(w),l=R(),a=i(new Set(l.completedToday)),r=i(l.lastResetDate),u=n(()=>a.value.size),c=n(()=>t.value.length),m=n(()=>Math.round(u.value/c.value*100)),h=n(()=>t.value.map(e=>({...e,isCompleted:a.value.has(e.id)})));function o(){const e={completedToday:Array.from(a.value),lastResetDate:r.value};localStorage.setItem(p,JSON.stringify(e))}function g(e){const s=t.value.find(f=>f.id===e);return s?a.value.has(e)?(a.value.delete(e),o(),{xpEarned:-s.xpReward,wasCompleted:!1}):(a.value.add(e),o(),{xpEarned:s.xpReward,wasCompleted:!0}):{xpEarned:0,wasCompleted:!1}}function y(e){return a.value.has(e)}function d(){const e=new Date().toISOString().split("T")[0];return r.value!==e?(a.value.clear(),r.value=e,o(),!0):!1}function S(){a.value.clear(),r.value="",o()}return d(),{habits:t,completedToday:a,completedCount:u,totalCount:c,progressPercentage:m,todaysHabits:h,toggleHabit:g,isCompleted:y,checkDailyReset:d,reset:S}});export{T as u};
