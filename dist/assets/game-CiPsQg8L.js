import{l as x,m as O,c as s}from"./index-DrTH09fo.js";const o={1:0,2:100,3:250,4:500,5:1e3,6:1750,7:2750,8:4e3,9:5500,10:7500},I={COOK_RECIPE:15,SAVE_BUDGET:20,DAILY_LOGIN:5,STREAK_BONUS:25},c="ramadan-quest-game";function l(){return{xp:0,level:1,energy:100,coins:0,mood:"happy",userName:"",lastActiveDate:new Date().toISOString().split("T")[0],streak:0}}function E(){const e=localStorage.getItem(c);if(e)try{return{...l(),...JSON.parse(e)}}catch{return l()}return l()}const N=x("game",()=>{const e=O(E()),v=s(()=>{const t=o[e.value.level]||0;return(o[e.value.level+1]||1/0)-t}),i=s(()=>{const t=o[e.value.level]||0,n=o[e.value.level+1]||e.value.xp,r=e.value.xp-t,T=n-t;return Math.min(r/T*100,100)}),d=s(()=>e.value.energy);function a(){localStorage.setItem(c,JSON.stringify(e.value))}function g(t){e.value.xp+=t,y(),u(),a()}function f(t){e.value.energy=Math.min(100,Math.max(0,e.value.energy+t)),u(),a()}function m(t){e.value.coins+=t,a()}function S(t){e.value.userName=t,a()}function y(){const t=o[e.value.level+1];t&&e.value.xp>=t&&(e.value.level++,e.value.mood="excited")}function u(){e.value.energy<20?e.value.mood="tired":e.value.energy<40?e.value.mood="sad":e.value.energy<60?e.value.mood="neutral":e.value.mood="happy"}function h(t){e.value.mood=t,a()}function p(){const t=new Date().toISOString().split("T")[0];if(e.value.lastActiveDate!==t){const n=new Date;n.setDate(n.getDate()-1);const r=n.toISOString().split("T")[0];return e.value.lastActiveDate===r?e.value.streak++:e.value.streak=1,e.value.lastActiveDate=t,e.value.energy=Math.min(100,e.value.energy+20),a(),!0}return!1}function D(){e.value=l(),a()}return{state:e,xpToNextLevel:v,currentLevelProgress:i,energyPercentage:d,addXP:g,addEnergy:f,addCoins:m,setUserName:S,setMood:h,checkDailyLogin:p,reset:D}});export{I as X,N as u};
