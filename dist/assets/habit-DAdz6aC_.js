import{P as v,r as i,c as s}from"./index-DS11LCJM.js";const R=[{id:"fajr",name:"Sholat Subuh",category:"spiritual",icon:"ðŸ•Œ",xpReward:15,prayerTimeKey:"subuh"},{id:"dhuhr",name:"Sholat Dzuhur",category:"spiritual",icon:"ðŸ•Œ",xpReward:10,prayerTimeKey:"dzuhur"},{id:"asr",name:"Sholat Ashar",category:"spiritual",icon:"ðŸ•Œ",xpReward:10,prayerTimeKey:"ashar"},{id:"maghrib",name:"Sholat Maghrib",category:"spiritual",icon:"ðŸ•Œ",xpReward:10,prayerTimeKey:"maghrib"},{id:"isha",name:"Sholat Isya",category:"spiritual",icon:"ðŸ•Œ",xpReward:10,prayerTimeKey:"isya"},{id:"quran",name:"Baca Quran 5 Halaman",category:"spiritual",icon:"ðŸ“–",xpReward:20},{id:"adhkar",name:"Dzikir Pagi",category:"spiritual",icon:"ðŸ¤²",xpReward:10}],p="ramadan-quest-habits";function T(){const t=localStorage.getItem(p);if(t)try{return JSON.parse(t)}catch{return{completedToday:[],lastResetDate:""}}return{completedToday:[],lastResetDate:""}}const x=v("habit",()=>{const t=i(R),l=T(),a=i(new Set(l.completedToday)),r=i(l.lastResetDate),u=s(()=>a.value.size),c=s(()=>t.value.length),m=s(()=>Math.round(u.value/c.value*100)),y=s(()=>t.value.map(e=>({...e,isCompleted:a.value.has(e.id)})));function o(){const e={completedToday:Array.from(a.value),lastResetDate:r.value};localStorage.setItem(p,JSON.stringify(e))}function h(e){const n=t.value.find(S=>S.id===e);return n?a.value.has(e)?(a.value.delete(e),o(),{xpEarned:-n.xpReward,wasCompleted:!1}):(a.value.add(e),o(),{xpEarned:n.xpReward,wasCompleted:!0}):{xpEarned:0,wasCompleted:!1}}function g(e){return a.value.has(e)}function d(){const e=new Date().toISOString().split("T")[0];return r.value!==e?(a.value.clear(),r.value=e,o(),!0):!1}function f(){a.value.clear(),r.value="",o()}return d(),{habits:t,completedToday:a,completedCount:u,totalCount:c,progressPercentage:m,todaysHabits:y,toggleHabit:h,isCompleted:g,checkDailyReset:d,reset:f}});export{x as u};
