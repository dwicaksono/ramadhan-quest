import{d as C,j as l,i as f,k as A,b as S,F as $,A as P,a as z,L,e as t,o as a,l as j,y as N,z as V,r as d,c as H,M as D,N as E,f as u,t as c,n as T,g as F,T as M,D as Y}from"./index-DS11LCJM.js";import{u as G}from"./habit-DAdz6aC_.js";import{_ as J,u as K}from"./HabitItem.vue_vue_type_script_setup_true_lang-47DA9sqC.js";import{_ as O}from"./BaseHeader.vue_vue_type_script_setup_true_lang-DX1LHKlZ.js";const q={class:"space-y-3 pb-20"},Q={key:0,class:"text-center py-10 text-stone-400"},R=C({__name:"HabitList",props:{habits:{}},emits:["toggle"],setup(p,{emit:n}){const g=n;return(v,i)=>(a(),l("div",q,[f(L,{name:"list",tag:"div",class:"space-y-3"},{default:S(()=>[(a(!0),l($,null,P(p.habits,o=>(a(),z(J,{key:o.id,habit:o,"is-completed":o.isCompleted,onToggle:i[0]||(i[0]=(b,m)=>g("toggle",b,m))},null,8,["habit","is-completed"]))),128))]),_:1}),p.habits.length===0?(a(),l("div",Q,[...i[1]||(i[1]=[t("p",{class:"text-lg"},"Tidak ada target untuk kategori ini.",-1)])])):A("",!0)]))}}),U=j(R,[["__scopeId","data-v-8a40c6d3"]]),W={class:"px-4 pt-6 pb-24 max-w-md mx-auto min-h-screen bg-stone-50 dark:bg-secondary-950 transition-colors duration-200"},Z={class:"mt-4 bg-gradient-to-r from-primary-600 to-primary-500 rounded-2xl p-4 text-white shadow-lg relative overflow-hidden"},tt={class:"relative z-10 flex justify-between items-end mb-2"},et={class:"text-3xl font-bold font-mono"},st={class:"text-primary-100 text-sm"},at={class:"h-2 bg-primary-900/30 rounded-full overflow-hidden"},ot={class:"sticky top-0 z-20 bg-stone-50/95 dark:bg-secondary-950/95 backdrop-blur-sm py-2 -mx-4 px-4 border-b border-stone-200/50 dark:border-secondary-800 mb-4 overflow-x-auto no-scrollbar scroll-smooth"},nt={class:"flex gap-2"},it=["onClick"],lt={key:1,class:"flex flex-col items-center justify-center py-12 px-4 text-center space-y-4"},rt=C({__name:"HabitPage",setup(p){const n=G(),{toggleHabit:g}=K(),{playSfx:v}=N(),{trigger:i}=V(),o=d("all"),b=[{id:"all",label:"Semua",icon:"ðŸ“‹"},{id:"spiritual",label:"Ibadah",icon:"ðŸ•Œ"},{id:"community",label:"Sosial",icon:"ðŸ¤²"},{id:"personal",label:"Pribadi",icon:"ðŸ‘¤"}],m=H(()=>o.value==="all"?n.todaysHabits:n.todaysHabits.filter(r=>r.category===o.value)),x=d(!1),y=d(0),_=d(0),h=d(0),k=d(0);function B(r,e){const s=g(r);if(!s.success){s.message&&Y.error(s.message);return}s.isCompleted?(X(s.xpEarned,e.clientX,e.clientY),v("success"),i("medium")):i("light")}function X(r,e,s){y.value=r,_.value=e,h.value=s,k.value++,x.value=!0,setTimeout(()=>{x.value=!1},1e3)}const I=H(()=>n.progressPercentage),w=D(I,{duration:800,easing:E.easeOutCubic});return(r,e)=>(a(),l("div",W,[f(u(O),{title:"Target Harian",subtitle:"Jaga semangat ibadahmu!"}),t("div",Z,[e[1]||(e[1]=t("div",{class:"absolute right-0 top-0 opacity-10 text-8xl transform translate-x-4 -translate-y-4"}," ðŸŒ™ ",-1)),t("div",tt,[t("div",null,[e[0]||(e[0]=t("div",{class:"text-primary-100 text-sm font-medium"},"Progress Hari Ini",-1)),t("div",et,c(Math.round(u(w)))+"%",1)]),t("div",st,c(u(n).completedCount)+" / "+c(u(n).totalCount)+" Selesai ",1)]),t("div",at,[t("div",{class:"h-full bg-yellow-400 rounded-full transition-all duration-500 ease-out shadow-[0_0_10px_rgba(250,204,21,0.5)]",style:T({width:`${u(w)}%`})},null,4)])]),t("div",ot,[t("div",nt,[(a(),l($,null,P(b,s=>t("button",{key:s.id,onClick:dt=>o.value=s.id,class:F(["flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap",o.value===s.id?"bg-primary-600 text-white shadow-md shadow-primary-200 dark:shadow-none":"bg-white dark:bg-secondary-900 text-stone-600 dark:text-stone-400 border border-stone-200 dark:border-secondary-800 hover:bg-stone-50 dark:hover:bg-secondary-800"])},[t("span",null,c(s.icon),1),t("span",null,c(s.label),1)],10,it)),64))])]),m.value.length>0?(a(),z(U,{key:0,habits:m.value,onToggle:B},null,8,["habits"])):(a(),l("div",lt,[...e[2]||(e[2]=[t("div",{class:"w-24 h-24 bg-stone-100 dark:bg-secondary-800 rounded-full flex items-center justify-center text-4xl mb-2"}," ðŸƒ ",-1),t("div",null,[t("h3",{class:"text-lg font-bold text-stone-700 dark:text-stone-200"},"Tidak ada target"),t("p",{class:"text-sm text-stone-500 dark:text-stone-400 max-w-xs mx-auto"}," Belum ada target untuk kategori ini. Coba pilih kategori lain atau istirahat sejenak. ")],-1)])])),f(M,{"enter-active-class":"transition-all duration-700 ease-out","enter-from-class":"opacity-0 translate-y-4 scale-50","enter-to-class":"opacity-100 -translate-y-12 scale-100","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0 -translate-y-20"},{default:S(()=>[x.value?(a(),l("div",{key:k.value,class:"fixed z-50 pointer-events-none font-bold text-amber-500 text-xl drop-shadow-md flex items-center gap-1",style:T({left:`${_.value}px`,top:`${h.value-20}px`})},[t("span",null,"+"+c(y.value)+" XP",1),e[3]||(e[3]=t("span",{class:"animate-bounce"},"âœ¨",-1))],4)):A("",!0)]),_:1})]))}}),gt=j(rt,[["__scopeId","data-v-365e79f1"]]);export{gt as default};
